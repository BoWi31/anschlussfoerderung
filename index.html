<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Anschlussf√∂rderung</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
            background-color: #28a745;
            color: #fff;
            transition: background-color 0.5s ease;
        }

        .container {
            background: white;
            color: #212529;
            padding: 1.5em;
            border-radius: 10px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 90%;
            text-align: center;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 0.5em;
        }

        h2 {
            font-size: 1.5em;
            margin: 0.5em 0;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            font-size: 1em;
            margin: 5px 0;
        }

        .countdown {
            margin-top: 1em;
            font-size: 1.2em;
            color: #555;
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: 1em;
        }

        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container" id="status-container">
        <h1 id="status-title">Keine Anschlussf√∂rderung</h1>
        <h2 id="next-session">N√§chste F√∂rderung: Wird geladen...</h2>
        <div class="countdown" id="countdown"></div>
        <ul id="students-list"></ul>
    </div>
    <button id="toggle-mode" onclick="toggleSimulationMode()">üîò Simulieren</button>

    <script>
        const foerderungen = [
            { fach: "Deutsch", day: 1, time: "07:40", room: "W204" },
            { fach: "Mathe", day: 2, time: "09:30", room: "W005" },
            { fach: "Englisch", day: 3, time: "11:20", room: "W204" }
        ];

        const students = {
            "5a": ["Anastasia"],
            "5.1": ["Alina", "Vojdan"],
            "6.1": ["Daniil", "Mohammed"],
            "7.1": ["Marin", "Evelina"],
            "7.2": ["Ili", "Ilyas", "Beyar", "Emma", "Artur"]
        };

        let simulationMode = false;

        function toggleSimulationMode() {
            simulationMode = !simulationMode;
            document.getElementById("toggle-mode").textContent = simulationMode ? "üîò Real-Modus" : "üîò Simulieren";
            updateStatus();
        }

        function calculateCountdown(targetTime) {
            const now = new Date();
            const diff = targetTime - now;

            if (diff <= 0) return null;

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            return `${days}d ${hours}h ${minutes}m ${seconds}s`;
        }

        function updateStatus() {
            const now = new Date();
            const currentDay = now.getDay();
            const currentTime = `${now.getHours().toString().padStart(2, "0")}:${now.getMinutes().toString().padStart(2, "0")}`;

            let nextSession = null;
            foerderungen.forEach(session => {
                const dayDiff = (session.day - currentDay + 7) % 7;
                if (!nextSession || dayDiff < (nextSession.day - currentDay + 7) % 7) {
                    nextSession = session;
                }
            });

            const statusContainer = document.getElementById("status-container");
            const studentsList = document.getElementById("students-list");
            const countdownElement = document.getElementById("countdown");

            if (simulationMode && nextSession) {
                document.body.style.backgroundColor = "#dc3545";
                statusContainer.innerHTML = `
                    <h1>‚ö†Ô∏è Anschlussf√∂rderung aktiv</h1>
                    <h2>Fach: ${nextSession.fach}</h2>
                    <p>Zeitraum: ${nextSession.time}</p>
                    <p>Raum: ${nextSession.room}</p>
                `;
                studentsList.innerHTML = Object.keys(students).map(klasse => `
                    <h3>${klasse}</h3>
                    <ul>${students[klasse].map(name => `<li>${name}</li>`).join("")}</ul>
                `).join("");
            } else if (nextSession) {
                document.body.style.backgroundColor = "#28a745";
                const nextDate = new Date();
                nextDate.setDate(nextDate.getDate() + ((nextSession.day - currentDay + 7) % 7));
                nextDate.setHours(parseInt(nextSession.time.split(":"))); // Startzeit einstellen

                countdownElement.textContent = `Countdown: ${calculateCountdown(nextDate)}`;
                statusContainer.innerHTML = `
                    <h1>Keine Anschlussf√∂rderung</h1>
                    <h2>N√§chste F√∂rderung: ${nextSession.fach}, Raum ${nextSession.room}</h2>
                `;
            } else {
                statusContainer.innerHTML = "Keine weiteren Termine.";
            }
        }

        setInterval(updateStatus, 1000);
        updateStatus();
    </script>
</body>
</html>
